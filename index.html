<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hollywood Town: LONG-VIDEO GENERATION VIA CROSS-MODAL MULTI-AGENT ORCHESTRATION</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    
    <!-- Configure Tailwind custom colors and fonts -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#0F172A', // Deep blue base
                        secondary: '#3B82F6', // Bright blue accent
                        tertiary: '#93C5FD', // Light blue
                        dark: '#1E293B',
                        light: '#F8FAFC'
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                        display: ['Poppins', 'system-ui', 'sans-serif']
                    }
                }
            }
        }
    </script>
    
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .text-gradient {
                background-clip: text;
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
            }
            .backdrop-blur {
                backdrop-filter: blur(8px);
            }
            .scrollbar-hide::-webkit-scrollbar {
                display: none;
            }
            .card-hover {
                @apply transition-all duration-300 hover:shadow-xl hover:-translate-y-1;
            }
        }
    </style>
    
    <style>
        /* Import Google Fonts */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@500;600;700;800&display=swap');
        
        /* Base styles */
        body {
            font-family: 'Inter', system-ui, sans-serif;
            background-color: #F8FAFC;
            color: #1E293B;
            line-height: 1.6;
        }
        
        /* Smooth scrolling */
        html {
            scroll-behavior: smooth;
        }
        
        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .animate-fade-in {
            animation: fadeIn 0.6s ease forwards;
        }
        
        .delay-100 { animation-delay: 0.1s; }
        .delay-200 { animation-delay: 0.2s; }
        .delay-300 { animation-delay: 0.3s; }
        
        /* Progress bar for scroll */
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f5f9;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #94a3b8;
            border-radius: 3px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #64748b;
        }
        
        /* Video grid responsive adjustments */
        @media (min-width: 640px) {
            .video-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (min-width: 1024px) {
            .video-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }
        
        @media (min-width: 1280px) {
            .video-grid {
                grid-template-columns: repeat(5, 1fr);
            }
        }

        /* Custom styles */
        .video-wrapper {
            position: relative;
            width: 100%;
            aspect-ratio: 16 / 9; /* 保持16:9比例 */
            background: #eee;
            min-height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .video-wrapper iframe {
            width: 100%;
            height: 100%;
            border: none;
            display: block;
        }
        .duration-label {
            position: absolute;
            bottom: 8px;
            right: 12px;
            background: rgba(0,0,0,0.7);
            color: #fff;
            padding: 2px 8px;
            border-radius: 8px;
            font-size: 0.9em;
            z-index: 20;
        }

        /* 每组视频布局示例 */
        .version-section {
            margin-bottom: 3rem;
        }
        .main-video-card {
            background-color: rgba(59, 130, 246, 0.1);
            border: 2px solid #3B82F6;
            border-radius: 1rem;
            padding: 1rem;
            margin-bottom: 1rem;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .main-video-card span {
            color: #3B82F6;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }
        .compare-videos {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
        }
        .compare-btn {
            margin-top: 1.5rem;
            padding: 0.75rem 1.5rem;
            background-color: #3B82F6;
            color: white;
            border-radius: 0.5rem;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .compare-btn:hover {
            background-color: #2563eb;
        }
        .video-card-enlarged {
            position: relative;
            width: 100%;
            max-width: 1024px;
            margin: 2rem auto;
            background: #fff;
            box-shadow: 0 8px 32px rgba(59,130,246,0.2);
            border-radius: 1rem;
            padding: 2rem;
        }

        .enlarged-video-container {
            width: 100%;
            max-width: 1024px;
            margin: 0 auto;
            background: #fff;
            border-radius: 1rem;
            overflow: hidden;
        }

        .video-wrapper.enlarged {
            aspect-ratio: 16/9;
            height: auto;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav id="navbar" class="fixed w-full top-0 z-40 transition-all duration-300 bg-primary/90 backdrop-blur text-white">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center gap-2">
                <div class="w-10 h-10 bg-secondary rounded-lg flex items-center justify-center">
                    <i class="fa fa-film text-xl"></i>
                </div>
                <span class="font-display font-semibold text-lg">Hollywood Town</span>
            </div>
            <div class="hidden md:flex items-center gap-8">
                <a href="#about" class="hover:text-tertiary transition-colors">About</a>
                <a href="#demos" class="hover:text-tertiary transition-colors">Demos</a>
            </div>
            <button class="md:hidden text-xl" id="mobile-menu-button">
                <i class="fa fa-bars"></i>
            </button>
        </div>
        <!-- Mobile menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-primary/95 backdrop-blur">
            <div class="container mx-auto px-4 py-3 flex flex-col gap-4">
                <a href="#about" class="py-2 hover:text-tertiary transition-colors">About</a>
                <a href="#demos" class="py-2 hover:text-tertiary transition-colors">Demos</a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="pt-28 pb-16 md:pt-40 md:pb-24 bg-gradient-to-br from-primary to-dark text-white">
        <div class="container mx-auto px-4">
            <div class="max-w-4xl mx-auto text-center animate-fade-in">
                <h1 class="font-display font-bold text-3xl md:text-5xl mb-6 leading-tight">
                    <span class="block mb-4">Hollywood Town: </span>
                    <span class="bg-gradient-to-r from-secondary to-tertiary text-gradient block text-2xl md:text-4xl leading-relaxed">
                        Long-Video Generation via Cross-Modal <br>
                        Multi-Agent Orchestration
                    </span>
                </h1>
                <div class="flex justify-center">
                    <a href="#demos" class="bg-secondary hover:bg-secondary/90 text-white font-medium py-3 px-8 rounded-lg transition-all shadow-lg hover:shadow-secondary/30">
                        View Demos
                    </a>
                </div>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-4 py-12">
        <!-- About section -->
        <section id="about" class="mb-20 animate-fade-in delay-100">
            <div class="max-w-3xl mx-auto">
                <div class="relative mb-16">
                    <h2 class="font-display font-bold text-4xl md:text-5xl text-center 
                               bg-gradient-to-r from-primary via-secondary to-tertiary bg-clip-text text-transparent
                               drop-shadow-sm">
                        About
                    </h2>
                    <div class="absolute -z-10 w-24 h-24 bg-secondary/10 rounded-full 
                                blur-2xl top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"></div>
                </div>
                
                <div class="prose prose-lg max-w-none text-gray-700">
                    <p>
                    Recent advancements in multi-agent systems have demonstrated significant potential for enhancing creative task performance, such as long video generation. This study introduces three innovations to improve multi-agent collaboration. First, we propose OmniAgent, a hierarchical, graph-based multi-agent framework for long video generation that leverages a film-production-inspired architecture to enable modular specialization and scalable inter-agent collaboration, Second, inspired by context engineering, we propose hypergraph nodes that enable temporary group discussions among agents lacking sufficient context, reducing individual memory requirements while ensuring adequate contextual information. Third, we transition from directed acyclic graphs (DAGs) to directed cyclic graphs with limited retries, allowing agents to reflect and refine outputs iteratively, thereby improving earlier stages through feedback from subsequent nodes. These contributions lay the groundwork for developing more robust multi-agent systems in creative tasks.
                    </p>
                </div>
                
                <div class="mt-12 text-center">
                    <div class="rounded-xl overflow-hidden shadow-2xl transition-all duration-500 hover:shadow-primary/10">
                        <img src="framework.png" alt="Hollywood Town Framework" 
                             class="w-full max-w-4xl mx-auto block object-contain p-4 md:p-8 bg-white rounded-xl transition-transform duration-700 hover:scale-[1.02]">
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Demonstrations section -->
        <section id="demos" class="animate-fade-in delay-300">
            <div class="relative mb-16">
                <h2 class="font-display font-bold text-4xl md:text-5xl text-center 
                           bg-gradient-to-r from-primary via-secondary to-tertiary bg-clip-text text-transparent
                           drop-shadow-sm">
                    Demonstrations
                </h2>
                <div class="absolute -z-10 w-24 h-24 bg-secondary/10 rounded-full 
                            blur-2xl top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"></div>
            </div>

            <p class="text-center text-gray-600 text-lg mb-12 max-w-3xl mx-auto">
                We present three video generation versions. For each version, we display the generated result alongside four comparative videos. You may click any video to view it in a larger window, or use the “Compare” button to play multiple videos simultaneously.
            </p>

            <!-- Video container -->
            <div class="video-container">
                <!-- Video grid -->
                <div class="video-grid" id="video-grid">
                    <!-- Video cards will be generated dynamically via JS -->
                </div>
            </div>
        </section>
    </main>
    
    <!-- Footer -->
    <footer class="bg-primary text-white py-12">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between items-center gap-8">
                <div class="flex items-center gap-2">
                    <div class="w-10 h-10 bg-secondary rounded-lg flex items-center justify-center">
                        <i class="fa fa-film text-xl"></i>
                    </div>
                    <span class="font-display font-semibold text-lg">Hollywood Town</span>
                </div>

            </div>
        </div>
    </footer>
    
    <!-- Compare modal -->
    <div id="compare-modal" class="modal fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center opacity-0 invisible transition-all duration-300">
        <div class="modal-content bg-white rounded-xl w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col transform scale-95 transition-all duration-300">
            <div class="flex justify-between items-center p-6 border-b border-gray-100">
                <h2 class="text-2xl font-display font-bold text-primary">Compare Videos</h2>
                <button id="close-compare" class="w-10 h-10 bg-gray-100 text-gray-800 rounded-full flex items-center justify-center hover:bg-gray-200 transition-colors">
                    <i class="fa fa-times"></i>
                </button>
            </div>
            <div class="flex flex-col md:flex-row gap-6 p-6 flex-1 overflow-auto" id="compare-players">
                <!-- Two player areas -->
            </div>
            <div class="flex gap-4 p-6 border-t border-gray-100 bg-gray-50" id="compare-selectors">
                <!-- Two dropdown selectors -->
            </div>
        </div>
    </div>
    
    <script>
        // Handle navbar scroll effect
        window.addEventListener('scroll', () => {
            const navbar = document.getElementById('navbar');
            if (window.scrollY > 50) {
                navbar.classList.add('py-2', 'shadow-lg');
                navbar.classList.remove('py-3');
            } else {
                navbar.classList.add('py-3');
                navbar.classList.remove('py-2', 'shadow-lg');
            }
        });
        
        // Mobile menu toggle
        document.getElementById('mobile-menu-button').addEventListener('click', () => {
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenu.classList.toggle('hidden');
        });
        
        // Close mobile menu when clicking a link
        document.querySelectorAll('#mobile-menu a').forEach(link => {
            link.addEventListener('click', () => {
                document.getElementById('mobile-menu').classList.add('hidden');
            });
        });

        // Video data with YouTube IDs
        const videos = [
            { id: 1, title: "Hollywood Town", duration: "00:50", youtubeId: "cPsRTLyGqwY" },
            { id: 2, title: "Comparative Version 1", duration: "00:30", youtubeId: "eGNKwavK2aY" },
            { id: 3, title: "Comparative Version 2", duration: "00:47", youtubeId: "YQTPYj7G1yU" },
            { id: 4, title: "Business Model 1", duration: "00:30", youtubeId: "aFfIuv964Yw" },
            { id: 5, title: "Business Model 2", duration: "01:26", youtubeId: "jPx6AvrW5Ug" },
            { id: 6, title: "Hollywood Town", duration: "00:50", youtubeId: "Uor5Zsfb2BU" },
            { id: 7, title: "Comparative Version 1", duration: "00:20", youtubeId: "_wGA81P1qTM" },
            { id: 8, title: "Comparative Version 2", duration: "00:26", youtubeId: "jaFBurD-BXg" },
            { id: 9, title: "Business Model 1", duration: "00:22", youtubeId: "fosQ3xWRylE" },
            { id: 10, title: "Business Model 2", duration: "01:16", youtubeId: "giUOMYOYXNA" },
            { id: 11, title: "Hollywood Town", duration: "00:42", youtubeId: "wRVB0JsdUm4" },
            { id: 12, title: "Comparative Version 1", duration: "00:40", youtubeId: "_6ZQSqUJBW8" },
            { id: 13, title: "Comparative Version 2", duration: "00:40", youtubeId: "pFDWhoHS7Zs" },
            { id: 14, title: "Business Model 1", duration: "00:30", youtubeId: "OiGH54xnz70" },
            { id: 15, title: "Business Model 2", duration: "01:20", youtubeId: "FUMhbb_kyuc" }
        ];

        const videoGrid = document.getElementById('video-grid');
        // Get compare modal elements
        const compareModal = document.getElementById('compare-modal');
        const compareSelectors = document.getElementById('compare-selectors');
        const comparePlayers = document.getElementById('compare-players');
        const closeCompare = document.getElementById('close-compare');

        // Close compare modal
        closeCompare.onclick = () => {
            // 停止所有正在播放的视频
            const iframes = compareModal.getElementsByTagName('iframe');
            Array.from(iframes).forEach(iframe => {
                iframe.src = '';
                iframe.remove();
            });
            
            compareModal.classList.remove('active', 'opacity-100', 'visible');
            compareModal.classList.add('opacity-0', 'invisible');
            compareModal.querySelector('.modal-content').classList.remove('scale-100');
            compareModal.querySelector('.modal-content').classList.add('scale-95');
            document.body.style.overflow = 'auto';
        };

        // Close modal when clicking outside content
        compareModal.onclick = (e) => {
            if (e.target === compareModal) {
                closeCompare.click();
            }
        };

        // Render video cards
        function renderVideos() {
            let currentGroup = -1;

            for (let groupIdx = 0; groupIdx < videos.length / 5; groupIdx++) {
                // 创建分组区块
                const versionSection = document.createElement('div');
                versionSection.className = 'version-section mb-12 scroll-animate';

                // 分组标题和提示
                const sectionContent = document.createElement('div');
                sectionContent.className = 'bg-gradient-to-r from-primary to-dark text-white rounded-2xl p-6 md:p-8 shadow-xl';

                const versionTitle = document.createElement('h2');
                versionTitle.className = 'font-display font-bold text-2xl md:text-3xl mb-4 flex items-center gap-3';
                versionTitle.innerHTML = `<span class="bg-secondary rounded-full w-8 h-8 flex items-center justify-center">${groupIdx + 1}</span> Version ${groupIdx + 1}`;

                const promptText = document.createElement('p');
                promptText.className = 'text-gray-200 text-lg';
                promptText.textContent = videoPrompts[groupIdx] || '';

                sectionContent.appendChild(versionTitle);
                sectionContent.appendChild(promptText);
                versionSection.appendChild(sectionContent);

                // 主视频卡片（我们的作品）
                const mainVideo = videos[groupIdx * 5];
                const mainCard = document.createElement('div');
                mainCard.className = 'main-video-card bg-secondary/10 border-2 border-secondary rounded-xl p-4 mb-4 flex flex-col items-center';

                const mainLabel = document.createElement('span');
                mainCard.appendChild(mainLabel);

                // 视频封面和播放按钮
                const mainWrapper = document.createElement('div');
                mainWrapper.className = 'video-wrapper relative bg-gray-100 overflow-hidden rounded-xl w-full max-w-2xl';

                const mainThumbnail = document.createElement('img');
                mainThumbnail.src = `https://img.youtube.com/vi/${mainVideo.youtubeId}/hqdefault.jpg`;
                mainThumbnail.className = 'w-full h-full object-cover absolute inset-0';
                mainWrapper.appendChild(mainThumbnail);

                const mainPlayButton = document.createElement('div');
                mainPlayButton.className = 'absolute inset-0 flex items-center justify-center bg-black/30 opacity-100 hover:opacity-100 transition-opacity z-10 cursor-pointer';
                mainPlayButton.innerHTML = '<div class="w-16 h-16 bg-secondary rounded-full flex items-center justify-center"><i class="fa fa-play text-white text-xl ml-1"></i></div>';
                mainWrapper.appendChild(mainPlayButton);

                mainPlayButton.onclick = () => {
                    mainThumbnail.remove();
                    mainPlayButton.remove();
                    const iframe = document.createElement('iframe');
                    iframe.width = "100%";
                    iframe.height = "100%";
                    iframe.src = `https://www.youtube.com/embed/${mainVideo.youtubeId}?autoplay=1`;
                    iframe.frameBorder = "0";
                    iframe.allow = "accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture";
                    iframe.allowFullscreen = true;
                    mainWrapper.appendChild(iframe);
                };

                const mainDurationLabel = document.createElement('div');
                mainDurationLabel.className = 'duration-label';
                mainDurationLabel.textContent = mainVideo.duration;
                mainWrapper.appendChild(mainDurationLabel);

                // 主视频标题
                const mainInfoDiv = document.createElement('div');
                mainInfoDiv.className = 'p-4 w-full text-center';
                const mainTitleElement = document.createElement('h3');
                mainTitleElement.className = 'video-title font-medium text-lg';
                mainTitleElement.textContent = mainVideo.title;
                mainInfoDiv.appendChild(mainTitleElement);

                mainCard.appendChild(mainWrapper);
                mainCard.appendChild(mainInfoDiv);

                versionSection.appendChild(mainCard);

                // 其余4个对比视频
                const compareVideosDiv = document.createElement('div');
                compareVideosDiv.className = 'compare-videos grid grid-cols-2 md:grid-cols-4 gap-4 mb-6';  // 添加 mb-6 margin-bottom

                for (let i = 1; i < 5; i++) {
                    const video = videos[groupIdx * 5 + i];
                    const videoCard = document.createElement('div');
                    videoCard.className = 'bg-white rounded-xl shadow-lg overflow-hidden card-hover';
                    
                    const videoWrapper = document.createElement('div');
                    videoWrapper.className = 'video-wrapper relative bg-gray-100 overflow-hidden rounded-t-xl';

                    const thumbnail = document.createElement('img');
                    thumbnail.src = `https://img.youtube.com/vi/${video.youtubeId}/hqdefault.jpg`;
                    thumbnail.className = 'w-full h-full object-cover absolute inset-0';
                    videoWrapper.appendChild(thumbnail);

                    const playButton = document.createElement('div');
                    playButton.className = 'absolute inset-0 flex items-center justify-center bg-black/30 opacity-100 hover:opacity-100 transition-opacity z-10 cursor-pointer';
                    playButton.innerHTML = '<div class="w-12 h-12 bg-secondary rounded-full flex items-center justify-center"><i class="fa fa-play text-white text-lg ml-1"></i></div>';
                    videoWrapper.appendChild(playButton);

                    // 修改播放按钮点击事件
                    playButton.onclick = (e) => {
                        e.preventDefault(); // 阻止默认事件
                        e.stopPropagation(); // 阻止事件冒泡
                        enlargeCard(videoCard, groupIdx, i); // 直接调用 enlargeCard 函数显示大窗口
                    };

                    const durationLabel = document.createElement('div');
                    durationLabel.className = 'duration-label';
                    durationLabel.textContent = video.duration;
                    videoWrapper.appendChild(durationLabel);

                    const infoDiv = document.createElement('div');
                    infoDiv.className = 'p-4 text-center';
                    const titleElement = document.createElement('h3');
                    titleElement.className = 'video-title font-medium text-base';
                    titleElement.textContent = video.title;
                    infoDiv.appendChild(titleElement);

                    videoCard.appendChild(videoWrapper);
                    videoCard.appendChild(infoDiv);

                    // 添加点击卡片放大功能
                    videoCard.onclick = () => enlargeCard(videoCard, groupIdx, i);
                    
                    compareVideosDiv.appendChild(videoCard);
                }

                versionSection.appendChild(compareVideosDiv);

                // Compare 按钮 - 移到对比视频下面
                const compareBtn = document.createElement('button');
                compareBtn.className = `
                    compare-btn 
                    w-full max-w-2xl mx-auto 
                    py-4 px-8 
                    bg-secondary
                    text-white
                    rounded-xl
                    font-semibold text-lg
                    border-2 border-secondary
                    hover:bg-white hover:text-secondary
                    transition-all duration-300
                    flex items-center justify-center gap-3
                    mb-20
                    shadow-lg hover:shadow-secondary/30
                `;
                compareBtn.innerHTML = `
                    <i class="fa fa-columns text-xl"></i>
                    <span>Compare Version ${groupIdx + 1} Videos</span>
                `;
                compareBtn.onclick = () => openCompareModal(groupIdx);
                versionSection.appendChild(compareBtn);

                videoGrid.appendChild(versionSection);
            }

            // Add scroll animation
            setupScrollAnimations();
        }

        // Scroll animation setup
        function setupScrollAnimations() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('animate-fade-in');
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.1 });

            document.querySelectorAll('.scroll-animate').forEach(el => {
                observer.observe(el);
            });
        }

        // Open compare modal
        function openCompareModal(groupIdx) {
            // Get the 5 videos in this group
            const groupVideos = videos.slice(groupIdx * 5, groupIdx * 5 + 5);

            // Render selectors
            compareSelectors.innerHTML = '';
            for (let j = 0; j < 2; j++) {
                const selectContainer = document.createElement('div');
                selectContainer.className = 'flex-1';
                
                const label = document.createElement('label');
                label.className = 'block text-sm font-medium text-gray-700 mb-2';
                label.textContent = `Video ${j + 1}`;
                
                const select = document.createElement('select');
                select.className = 'w-full border border-gray-300 rounded-lg px-4 py-3 text-base focus:outline-none focus:ring-2 focus:ring-secondary focus:border-transparent transition-all';
                groupVideos.forEach((v) => {
                    const opt = document.createElement('option');
                    opt.value = v.youtubeId;
                    opt.textContent = `${v.title} (${v.duration})`;
                    select.appendChild(opt);
                });
                
                selectContainer.appendChild(label);
                selectContainer.appendChild(select);
                compareSelectors.appendChild(selectContainer);
            }

            // Render players
            function renderPlayers() {
                comparePlayers.innerHTML = '';
                for (let j = 0; j < 2; j++) {
                    const youtubeId = compareSelectors.children[j].querySelector('select').value;
                    const playerContainer = document.createElement('div');
                    playerContainer.className = 'flex-1 min-w-0';
                    
                    const iframeWrapper = document.createElement('div');
                    iframeWrapper.className = 'aspect-video bg-gray-100 rounded-lg overflow-hidden relative';
                    
                    const iframe = document.createElement('iframe');
                    iframe.width = "100%";
                    iframe.height = "100%";
                    iframe.src = `https://www.youtube.com/embed/${youtubeId}?autoplay=1`;
                    iframe.frameBorder = "0";
                    iframe.allow = "accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture";
                    iframe.allowFullscreen = true;
                    
                    iframeWrapper.appendChild(iframe);
                    playerContainer.appendChild(iframeWrapper);
                    comparePlayers.appendChild(playerContainer);
                }
            }
            
            // Update players when selection changes
            compareSelectors.querySelectorAll('select').forEach(select => {
                select.onchange = renderPlayers;
            });
            
            renderPlayers();

            // Show modal with animation
            compareModal.classList.add('active', 'opacity-100', 'visible');
            compareModal.classList.remove('opacity-0', 'invisible');
            setTimeout(() => {
                compareModal.querySelector('.modal-content').classList.remove('scale-95');
                compareModal.querySelector('.modal-content').classList.add('scale-100');
            }, 10);
            document.body.style.overflow = 'hidden';
        }

        // Prompts for each version group
        const videoPrompts = [
            "Prompt: 1-minute real movie scene: The agent sneaks into the heavily guarded laboratory late at night, evades the patrolling guards, and quietly approaches the safe where confidential documents are stored.",
            "Prompt: 1-minute 2D animation clip: A boy and a girl stroll and play along the river bank surrounded by flowers, expressing their feelings to each other.",
            "Prompt: 1-minute short video: A human warrior raises his shield to block an orc charge in a canyon. A fierce battle ensues at a broken bridge, where a warrior strikes down an orc's weapon with his sword. The orc then strikes back, forcing the warrior off a cliff."
        ];

        // Initialize when DOM is loaded
        document.addEventListener('DOMContentLoaded', renderVideos);

        // 放大卡片函数
        function enlargeCard(card, groupIdx, activeIdx) {
            // 停止所有正在播放的视频
            function stopAllVideos() {
                document.querySelectorAll('iframe[src*="youtube.com"]').forEach(iframe => {
                    // 将 iframe 的 src 设置为空来停止视频
                    iframe.src = '';
                });
            }
            
            // 在创建新的放大视频之前停止所有视频
            stopAllVideos();
            
            // 先移除其他已放大的卡片
            document.querySelectorAll('.video-card-enlarged').forEach(el => el.remove());
            
            const video = videos[groupIdx * 5 + activeIdx]; // 获取当前点击的视频
            
            // 创建新的放大容器
            const enlargedContainer = document.createElement('div');
            enlargedContainer.className = 'enlarged-video-container video-card-enlarged';
            
            // 标题区
            const titleElement = document.createElement('h3');
            titleElement.className = 'video-title font-medium text-lg text-center mb-4';
            titleElement.textContent = video.title;
            enlargedContainer.appendChild(titleElement);

            // 视频播放区域
            const videoWrapper = document.createElement('div');
            videoWrapper.className = 'video-wrapper enlarged relative bg-gray-100 overflow-hidden rounded-xl w-full';
            
            const iframe = document.createElement('iframe');
            iframe.width = "100%";
            iframe.height = "100%";
            iframe.src = `https://www.youtube.com/embed/${video.youtubeId}?autoplay=1`;
            iframe.frameBorder = "0";
            iframe.allow = "accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture";
            iframe.allowFullscreen = true;
            videoWrapper.appendChild(iframe);

            const durationLabel = document.createElement('div');
            durationLabel.className = 'duration-label';
            durationLabel.textContent = video.duration;
            videoWrapper.appendChild(durationLabel);

            enlargedContainer.appendChild(videoWrapper);

            // 关闭按钮
            const closeBtn = document.createElement('button');
            closeBtn.className = 'absolute top-4 right-4 w-8 h-8 bg-white/80 rounded-full flex items-center justify-center hover:bg-white transition-colors';
            closeBtn.innerHTML = '<i class="fa fa-times"></i>';
            closeBtn.onclick = () => {
                // 停止并移除当前播放的视频
                const iframes = enlargedContainer.getElementsByTagName('iframe');
                Array.from(iframes).forEach(iframe => {
                    // 将 iframe 的 src 设置为空来停止视频
                    iframe.src = '';
                    iframe.remove();
                });
                enlargedContainer.remove();
            };
            enlargedContainer.appendChild(closeBtn);

            // 插入到比较视频区域的后面
            const compareVideosDiv = card.closest('.compare-videos');
            compareVideosDiv.insertAdjacentElement('afterend', enlargedContainer);
            
            // 滚动到放大的视频位置
            enlargedContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
    </script>
</body>
</html>